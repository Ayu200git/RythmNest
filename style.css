:root{
  --bg:#0f0f12;
  --e1:#141418;
  --e2:#191a20;
  --glass:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.08);
  --text:#fff;
  --muted:#b9b9c2;
  --accent:#8b5cf6;     /* violet */
  --accent2:#14b8a6;    /* teal */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Poppins",system-ui,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1100px 600px at -10% -15%, rgba(139,92,246,.20), transparent 60%),
    radial-gradient(900px 500px at 120% -20%, rgba(20,184,166,.18), transparent 65%),
    linear-gradient(180deg, #0b0b0e, #101018 35%, #0f0f12 100%);
  overflow:hidden;
}

/* Layout */
.app{height:calc(100vh - 96px); gap:16px; padding:16px 16px 0}
.sidebar{
  width:280px; min-width:240px;
  background:linear-gradient(180deg,var(--e1),var(--e2));
  border:1px solid var(--border); border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
.sidebar .brand h1{font-size:20px;font-weight:800;letter-spacing:.2px}
.logo-dot{width: 16px;height:16px;border-radius:50%;background:#000;box-shadow:0 0 0 4px rgba(139,92,246,.35), 0 0 16px rgba(139,92,246,.6)}
.nav-primary .nav-link{
  color:var(--muted); border-radius:12px; padding:10px 12px;
  display:flex; align-items:center; gap:10px; cursor:pointer;
  transition:background .2s, transform .15s, color .2s;
}
.nav-primary .nav-link:hover{background:#23232b;color:#fff; transform:translateX(3px)}
.nav-primary .nav-link.active{background:#2a2a33;color:#fff}
.library-head{color:#e8e8ee;margin-top:4px}
.btn-glass{
  background:var(--glass); border:1px solid var(--border); color:#eaeaf2; border-radius:10px; padding:6px 8px;
}
.btn-glass:hover{background:#2d2d37}

.playlist-list{max-height:40vh; overflow:auto}
.playlist-item{
  display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:10px; cursor:pointer;
  color:#e8e8ee;
}
.playlist-item:hover{background:#23232b}
.playlist-item .badge{background:linear-gradient(90deg,var(--accent),var(--accent2)); border:0}

/* Main */
.main{
  background:linear-gradient(180deg,var(--e1),var(--e2));
  border:1px solid var(--border); border-radius:16px; overflow:auto; position:relative;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  padding:16px;
}
.view{display:none}
.view.active{display:block}

.card-glass{
  background:var(--glass); border:1px solid var(--border); border-radius:16px;
  backdrop-filter: blur(10px);
}
.hero{display:flex; align-items:center; justify-content:space-between; gap:16px}
.eyebrow{color:var(--muted); text-transform:uppercase; letter-spacing:.15em; font-size:.8rem}
.badge{background:#272734; color:#e8e8ee; border:1px solid var(--border)}
.section-title{margin:8px 4px 10px; font-weight:700}

/* Cards grid */
.grid-cards{
  display:grid; grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:14px;
}
.card-media{
  text-decoration:none; color:#fff; background:#17171d; border:1px solid var(--border);
  border-radius:14px; overflow:hidden; transition:transform .2s, box-shadow .25s, background .2s;
  position:relative;
}
.card-media:hover{transform:translateY(-4px); box-shadow:0 14px 28px rgba(0,0,0,.45); background:#1d1d25}
.card-media .cover{aspect-ratio:1/1; width:100%; object-fit:cover}
.card-media .body{padding:10px 12px}
.card-media .title{font-weight:700; margin:0 0 4px}
.card-media .sub{color:var(--muted); font-size:.9rem; margin:0}

/* Track list (playlist view) */
.list-tracks{padding:8px}
.track-row{
  display:grid; grid-template-columns: 1fr 80px 80px 40px; gap:8px; align-items:center;
  padding:10px 12px; border-radius:10px;
}
.track-row:hover{background:#21212a}
.track-row .t-meta{display:flex; gap:10px; align-items:center}
.track-row img{width:48px; height:48px; border-radius:8px; object-fit:cover}
.track-row .t-title{font-weight:600}
.track-row .t-artist{color:var(--muted); font-size:.9rem}
.row-btn{background:transparent; border:0; color:#eaeaf2}
.row-btn.like.active{color:#ff6ea8}
.row-btn.add{color:#7dd3fc}

/* Player */
.player{
  position:fixed; left:16px; right:16px; bottom:16px; height:96px;
  display:grid; grid-template-columns: 1.3fr 2fr 1.2fr; gap:12px; align-items:center;
  padding:12px 16px;
  border:1px solid var(--border); border-radius:16px; backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(25,25,31,.86), rgba(25,25,31,.76));
  box-shadow:0 14px 36px rgba(0,0,0,.45);
}
.player-left{display:flex; align-items:center; gap:12px; min-width:0}
.player-left .cover{width:60px; height:60px; border-radius:12px; object-fit:cover; border:1px solid var(--border); animation:spin 16s linear infinite; animation-play-state:paused}
.player-left.playing .cover{animation-play-state:running}
.meta{min-width:0}
.title{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-weight:700}
.artist{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}

.btn-like{background:transparent; border:0; color:#eaeaf2; margin-left:8px}
.btn-like.active{color:#ff6ea8}

.player-center{display:flex; flex-direction:column; align-items:center; gap:8px}
.transport .ctrl{
  background:#262633; border:1px solid var(--border); color:#fff; border-radius:10px;
  padding:8px 10px; margin:0 4px; transition: transform .1s, background .15s;
}
.transport .ctrl:hover{transform:translateY(-1px); background:#2e2e3d}
.transport .ctrl.play{
  background:linear-gradient(135deg,var(--accent),var(--accent2)); border:0; color:#0b0b0e; font-weight:800;
  box-shadow:0 10px 24px rgba(139,92,246,.25);
}

.timeline{display:grid; grid-template-columns:auto 1fr auto; gap:10px; width:100%; align-items:center}
.timeline .time{color:var(--muted); font-size:.85rem}
.timeline input[type="range"]{width:100%; accent-color:var(--accent)}

.player-right{display:flex; align-items:center; gap:10px; justify-self:end}
.player-right input[type="range"]{width:120px; accent-color:var(--accent2)}

.queue{
  position:absolute; right:16px; bottom:112px; width:320px; max-height:45vh; overflow:auto; display:none;
  padding:8px; border-radius:12px; border:1px solid var(--border);
}
.queue.open{display:block}
.queue .q-item{display:flex; gap:8px; align-items:center; padding:8px; border-radius:10px}
.queue .q-item:hover{background:#23232b}
.queue .q-item img{width:40px; height:40px; border-radius:8px; object-fit:cover}

.search-input{background:transparent; border:0; color:#fff}
.search-input::placeholder{color:#a6a6af}

/* Modal glass */
.modal-glass{background:linear-gradient(180deg, rgba(26,26,32,.9), rgba(22,22,28,.9)); color:#fff; border:1px solid var(--border); border-radius:12px}

/* Animations */
@keyframes spin{to{transform:rotate(360deg)}}

/* Responsive */
@media (max-width: 980px){
  .app{grid-template-columns:1fr}
  .sidebar{display:none}
  .player{grid-template-columns: 1fr}
  .player-right{justify-self:stretch; justify-content:center}
}
/* Toasts */
.toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(30,30,30,0.9);
  color: #fff;
  padding: 10px 16px;
  border-radius: 8px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s;
  z-index: 9999;
}
.toast.show { opacity: 1; transform: translateY(0); }
.toast.success { background: rgba(0,180,100,0.9); }

/* Visualizer */
.visualizer {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 40px;
  margin-top: 8px;
}
.visualizer .bar {
  flex: 1;
  background: linear-gradient(180deg,#1db954,#1ed760);
  border-radius: 2px;
  height: 5px;
  transition: height 0.1s;
}

/* Mini player */
.mini-player {
  display: none;
}
@media(max-width:768px){
  .mini-player {
    position: fixed;
    bottom: 0;
    left: 0; right: 0;
    background: rgba(20,20,20,0.95);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    z-index: 1000;
  }
  .mini-player img {
    width: 40px; height: 40px;
    border-radius: 6px;
    margin-right: 8px;
  }
  .mini-info { display: flex; align-items: center; }
  #miniTitle { font-weight: bold; }
  #miniArtist { font-size: 12px; opacity: 0.7; }
}
